<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
  
  <title>Balancing - Dendron</title>
  

  <link
    rel="shortcut icon"
    href="https://nahombefekadu.github.io/Notes/favicon.ico"
    type="image/x-icon"
  />
  <link
    rel="stylesheet"
    href="https://nahombefekadu.github.io/Notes/assets/css/just-the-docs-default.css"
  />
  <script
    type="text/javascript"
    src="https://nahombefekadu.github.io/Notes/assets/js/just-the-docs.js"
  ></script>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.22.0/themes/prism.min.css"
  />
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"
    integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X"
    crossorigin="anonymous"
  />
  <script
    type="text/javascript"
    src="https://nahombefekadu.github.io/Notes/assets/js/vendor/lunr.min.js"
  ></script>
  
  <meta name="viewport" content="width=device-width, initial-scale=1" />
   
   
  
<meta name="description" content="Personal knowledge space">
<meta name="author" content="">

<link rel="canonical" href="https://nahombefekadu.github.io/Notes//notes/dAIbJALaDi5GytOwdazz9.html">

<meta property="og:type" content="article">
<meta property="og:url" content="https://nahombefekadu.github.io/Notes//notes/dAIbJALaDi5GytOwdazz9.html">
<meta property="og:description" content="Personal knowledge space">
<meta property="og:image" content="https://nahombefekadu.github.io/Notes/undefined">

<meta name="twitter:card" content="summary">

<meta name="twitter:url" content="https://nahombefekadu.github.io/Notes//notes/dAIbJALaDi5GytOwdazz9.html">
<meta name="twitter:description" content="Personal knowledge space">
<meta name="twitter:image" content="https://nahombefekadu.github.io/Notes/undefined">


  <meta property="og:title" content="Balancing - Dendron" />
  <meta name="twitter:title" content="Balancing - Dendron" />
  
</head>



<body>
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
      <symbol id="svg-link" viewBox="0 0 24 24">
        <title>Link</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
          <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
        </svg>
      </symbol>
      <symbol id="svg-search" viewBox="0 0 24 24">
        <title>Search</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
          <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
      </symbol>
      <symbol id="svg-menu" viewBox="0 0 24 24">
        <title>Menu</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
          <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
      </symbol>
      <symbol id="svg-arrow-right" viewBox="0 0 24 24">
        <title>Expand</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      </symbol>
      <symbol id="svg-doc" viewBox="0 0 24 24">
        <title>Document</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
          <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
        </svg>
      </symbol>
    </svg>

    <div class="side-bar">
      <div class="site-header">
        <a href="https://nahombefekadu.github.io/Notes" class="site-title lh-tight">
  Dendron

 </a>
        <a href="#" id="menu-button" class="site-button">
          <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
        </a>
      </div>

      <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav">
      </nav>
      <footer class="site-footer">
        ðŸŒ± with ðŸ’• using <a href="https://www.dendron.so/"> Dendron ðŸŒ² </a>
      </footer>
    </div>
    <div class="main" id="top">
        <div id="main-header" class="main-header">
          
            <div class="search">
              <div class="search-input-wrap">
                <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Dendron" aria-label="Search Dendron" autocomplete="off">
                <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
              </div>
              <div id="search-results" class="search-results"></div>
            </div>
          
          
    </div>
    <div id="main-content-wrap" class="main-content-wrap">
      
        
          <nav aria-label="Breadcrumb" class="breadcrumb-nav">
            <ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="https://nahombefekadu.github.io/Notes">Root</a></li><li class="breadcrumb-nav-list-item"><a href="https://nahombefekadu.github.io/Notes/notes\rydiHYJbn3JhvGgWrK9Sl.html">Data Structures</a></li><li class="breadcrumb-nav-list-item"><a href="https://nahombefekadu.github.io/Notes/notes\WfdADQRT7cfzOlj1XR8Uz.html">Binary Trees</a></li><li class="breadcrumb-nav-list-item">Balancing</li></ol>
          </nav>
        
      
      <div id="main-content" class="main-content" role="main">

        
        
        <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
        <script>mermaid.initialize({startOnLoad:true});</script>
        

        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
        
        

        

        

        

        <script>
          $(function () {
            $('[data-toggle="popover"]').popover({html: true})
          })
        </script>

        

<div id="main" role="main">

  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Balancing">
    
    <meta itemprop="datePublished" content="2022-01-02T02:25:15+00:00">
    <meta itemprop="dateModified" content="2022-01-02T16:43:31+00:00">

    <div class="page__inner-wrap">

      

      <section class="page__content" itemprop="text">

        

        <h1 id="balancing"><a aria-hidden="true" class="anchor-heading" href="#balancing"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Balancing</h1>
<p>We know that a BST needs to be well balanced to give optimal performance and results, but there are different ways of balancing trees. Here</p>
<p>One way of balancing BSTs is a tree rotation, tree rotation changes the structure of the tree but does not affect the structure of the tree. Rotations are usually used to balance two branches of different depths.</p>
<p>In a rotation a node is shifted up while another node is shifted down. Other nodes may need to also be shifted to maintain the integrity of the binary tree. These rotations can change the height of the tree by moving large subtrees. As it can be seen below in both rotations the order of the nodes has not changed but the levels of the nodes has shifted.</p>
<p>We can also see that due to the rotation that the children of the nodes being rotated are also shifted but still stay the children of the nodes. Only thing changing the level/depth of these nodes. Thus we can see that this is a great way to balance trees as it does not matter if the node in rotation has parents. Hence we can use rotations at any level/depth within the tree.</p>
<p><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ3eL1D8i9Ukx3qguOLn8No8NugQm9fzDJ10g&#x26;usqp=CAU" alt="Binary Tree image"></p>
<p>In the example below you can see that we can use rotations to make a tree that is unbalanced balanced by applying rotations.</p>
<p><img src="https://cs2852uphoff.files.wordpress.com/2011/05/treerotationexample.png" alt="Binary Tree image"></p>
<p>For the tree above after rotation has been applied the tree has been balanced. But balancing trees continually is not optimal hence <strong>AVL</strong> is applied.</p>
<hr>
<h2 id="avl"><a aria-hidden="true" class="anchor-heading" href="#avl"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>AVL</h2>
<p>AVL tree are a self balancing BST tree that applies rotation automatically as it's always balanced. Thus it is a much faster operation than most BSTs. When inserting a node the branch is inspected for balancing and the appropriate rotation is applied to make the tree balanced.</p>
<p>AVL looks at pattern of the branches in a tree where insertion of a node is occurring and looks for four patterns.</p>
<ul>
<li>Left-Left</li>
<li>Left-Right</li>
<li>Right-Left</li>
<li>Right-Right</li>
</ul>
<p>It performs these rotations after insertion of a new node, applying rotation to the node one or two levels above it or both.</p>
<p>Left-Left(LL): In this operation a right rotation is performed on the node above the inserted node. As shown in the picture below the inserted node is moved up and the node two levels up is moved down.</p>
<p><img src="https://www.tutorialspoint.com/data_structures_algorithms/images/avl_right_rotation.jpg" alt="Binary Tree image"></p>
<p>Left-Right(LR): This is a multi step process where a left rotation on the node above the inserted node is applied moving the above node down and the inserted node up. After which a right rotation is applied on the node that was two levels above the inserted node, moving the inserted node up and the top node down.</p>
<p><img src="https://miro.medium.com/max/1400/1*eYEkh7esJ1P6J0ggd0skmQ.png" alt="Binary Tree image"></p>
<p>Right-Left(RL): In this operation a right rotation is performed on the node above the inserted node moving the inserted node up and the above node down. After that a left rotation is performed on the node two that was above two levels the inserted node. moving the above node below the inserted node.</p>
<p><img src="https://miro.medium.com/max/700/1*OSo3z-9G7-fY4oRu0u03aw.png" alt="Binary Tree image"></p>
<p>Right-Right(RR): In this operation a left rotation is performed on the node above the inserted node, moving it up and the node two levels up down.</p>
<p><img src="https://www.tutorialspoint.com/data_structures_algorithms/images/avl_left_rotation.jpg" alt="Binary Tree image"></p>
<p>As can be seen thus far balancing is really easy with AVL trees, But the downsides of AVL is insertion and deletions. In these cases they can be operationally heavy as several rotations per each operation can be required.</p>
<hr>
<h2 id="red-black"><a aria-hidden="true" class="anchor-heading" href="#red-black"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>RED-Black</h2>
<p>There is another self balancing tree similar to AVL, the <strong>red-black tree</strong>. This algorithm does not have strict balancing requirements like AVL so its look up is slower than AVL, but its insertion and deletion operation are much faster due to requiring less rotations per operation.</p>
<p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/66/Red-black_tree_example.svg/316px-Red-black_tree_example.svg.png" alt="Binary Tree image"></p>
<p>How these trees work is that each node in the tree is either red or black, where new inserted nodes are always marked red. After insertion the color of the surrounding nodes is assessed and the nodes are rotated or repainted to achieve the conditions below:</p>
<ul>
<li>All red leaves must have only child nodes colored black.</li>
<li>the root of the tree must always be black</li>
<li>No matter where you are in the tree, every path to a leave/leaf node must go through the same number of black nodes.</li>
</ul>
<p>The tree resulting from this algorithm is not perfectly balanced as AVL trees but its runtime operation for lookup is still O(log n) and for insertion and deletion.</p>
<p>This is due to the tree having a maximum total height of 2 log (n+1)</p>
<h4 id="insertion"><a aria-hidden="true" class="anchor-heading" href="#insertion"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Insertion</h4>
<p>When a new node is inserted into a red-black tree, the algorithm searches through the tree to find the correct spot based on the value and places the node(similar to BST) then paints the node red. After that is complete it assesses the surrounding nodes and performs either of these 4 actions:</p>
<ol>
<li>
<p>In the first case the new nodes parent is black, the red-black properties are upheld and nothing is done.</p>
</li>
<li>
<p>The second case the new nodes parent and its siblings are painted red. Here you would switch the color of the parent and parent sibling node to black and switch the grandparent to the node to red.</p>
</li>
<li>
<p>Here the new nodes parent is red and its sibling is black, and the new nodes value is between the parent and grandparent.</p>
<ul>
<li>If the new node is greater than the parent, the parent is rotated left, where as if the node is less than the parent the parent is rotated right.</li>
</ul>
</li>
<li>
<p>The last case is where the new nodes parent is red and the parent sibling is black. The parent node should be between the value of the new node and the grandparent.</p>
<ul>
<li>If the new node value is less than the parent, the grandparent is rotated right and the colors of the parent and grandparent are swapped.</li>
<li>if the new node value is greater than the parent, the grandparent is rotated left and the colors are swapped.</li>
</ul>
</li>
</ol>
<p>For the tree below if we were to insert 7, based on rules of BST it will be inserted in the right branch of 6. After which we would follow the cases outlined above, The grandparent (1) is rotated left and the colors of grandparent and parent nodes and it's children are switched.</p>
<p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/66/Red-black_tree_example.svg/316px-Red-black_tree_example.svg.png" alt="Binary Tree image"></p>
<p>Another example:</p>
<p><img src="https://iq.opengenus.org/content/images/2018/07/red-black-tree_-insertion.jpg" alt="Binary Tree image"></p>
<hr>
<p>In general AVL and red-black trees will have a faster runtime for lookup compared to BST and binary tree.</p>
<p>Thus we can say that if a runtime of a algorithm for lookup is closer to O(N) we know that it will not be AVL or red-black trees as their lookup time is guaranteed to be in O(log n).</p>
<p>When looking at creating a tree and if we're choosing between AVL and red-black, we look and see if we will be doing lots of insertion and deletion operations if so the best bet is to go with red-black trees. But if the tree is static or unchanging the best tree to use would be AVL.</p><span id="navId" data="dAIbJALaDi5GytOwdazz9"></span>

                
      </section>

      
    </div>

    
  </article>

  
  
</div>

        <div class="thumbs feedback_trigger right-bottom"></div>

        
          <hr>
          <footer>
            
            

            
              <div class="d-flex mt-2">
              <p class="text-small text-grey-dk-000 mb-0 mr-2">
                Page last modified: <span class="d-inline-block">2022-01-02</span>.
              </p>
            
                
              </div>
          </footer>
        
    </div>
</div>


  

  <div class="search-overlay"></div>

</div>

</body>
</html>
